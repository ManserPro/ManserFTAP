local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Manser",
   Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
   LoadingTitle = "Loading Manser",
   LoadingSubtitle = "by Manser",
   ShowText = "Manser", -- for mobile users to unhide rayfield, change if you'd like
   Theme = "Ocean", -- Check https://docs.sirius.menu/rayfield/configuration/themes

   ToggleUIKeybind = "J", -- The keybind to toggle the UI visibility (string like "K" or Enum.KeyCode)

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

   ConfigurationSaving = {
      Enabled = true,
      FolderName = Manser, -- Create a custom folder for your hub/game
      FileName = "FTAPxManser"
   },

   Discord = {
      Enabled = false, -- Prompt the user to join your Discord server if their executor supports it
      Invite = "noinvitelink", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
      RememberJoins = true -- Set this to false to make them join the discord every time they load it up
   },

   KeySystem = false, -- Set this to true to use our key system
   KeySettings = {
      Title = "Untitled",
      Subtitle = "Key System",
      Note = "No method of obtaining the key is provided", -- Use this to tell the user how to get a key
      FileName = "Key", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
      SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
      GrabKeyFromSite = false, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
      Key = {"Hello"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
   }
})

local Tab = Window:CreateTab("Combat", 4483362458) -- Title, Image
local TabPlr = Window:CreateTab("Player", 4483362458) -- Title, Image
local TabVis = Window:CreateTab("Visual", 4483362458) -- Title, Image

local Button = Tab:CreateButton({
   Name = "FlingStrenght",
   Callback = function()
   -- The function that takes place when the button is pressed
   loadstring(game:HttpGet("https://raw.githubusercontent.com/ManserPro/ItsForMe/refs/heads/main/ForMe"))()
   end,
})

local Button = Tab:CreateButton({
   Name = "ESP (Not my)",
   Callback = function()
   -- The function that takes place when the button is pressed
   loadstring(game:HttpGet("https://raw.githubusercontent.com/z4tt483/ItzXery.lua/main/Esp-Players.lua"))()
   end,
})

local Button = TabPlr:CreateButton({
   Name = "120 FOV",
   Callback = function()
   -- The function that takes place when the button is pressed
   local camera = workspace.Camera
 
    camera.FieldOfView = 120
   end,
})

local Slider = TabPlr:CreateSlider({
   Name = "WalkSpeed",
   Range = {16, 300},
   Increment = 10,
   Suffix = "WalkSpeed",
   CurrentValue = 10,
   Flag = "Slider1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
   Callback = function(s)
    game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = s
   end,
})

local Slider = TabPlr:CreateSlider({
   Name = "JumpPower",
   Range = {50, 500},
   Increment = 10,
   Suffix = "JumpPower",
   CurrentValue = 10,
   Flag = "Slider1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
   Callback = function(s)
    game.Players.LocalPlayer.Character.Humanoid.JumpPower = s
   end,
})

local Button = TabPlr:CreateButton({
   Name = "3rd Person",
   Callback = function()
   -- The function that takes place when the button is pressed
    game:GetService("Players").LocalPlayer.CameraMaxZoomDistance = 10
	game:GetService("Players").LocalPlayer.CameraMode = Enum.CameraMode.Classic
   end,
})

local Button = TabPlr:CreateButton({
   Name = "Anti-Ragdoll",
   Callback = function()
   -- The function that takes place when the button is pressed
local player = game:GetService("Players").LocalPlayer

local function setupCharacter(character)
    local humanoid = character:WaitForChild("Humanoid")
    humanoid.Sit = false
    
    local connections = {}
    
    local function handleBadState(newState)
        if newState == Enum.HumanoidStateType.Ragdoll or 
           newState == Enum.HumanoidStateType.FallingDown or 
           newState == Enum.HumanoidStateType.PlatformStanding or
           newState == Enum.HumanoidStateType.Seated then
            humanoid.Sit = false
            humanoid.PlatformStand = false
            humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
            if character:FindFirstChild("HumanoidRootPart") then
                character.HumanoidRootPart.Anchored = false
            end
            return true
        end
        return false
    end
    
    handleBadState(humanoid:GetState())
    
    table.insert(connections, humanoid.StateChanged:Connect(function(_, newState)
        handleBadState(newState)
    end))
    
    for _, seat in pairs(workspace:GetDescendants()) do
        if seat:IsA("Seat") then
            table.insert(connections, seat:GetPropertyChangedSignal("Occupant"):Connect(function()
                if seat.Occupant == humanoid then
                    task.wait(0.04)
                    humanoid.Sit = false
                    humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
                end
            end))
        end
    end
    
    table.insert(connections, humanoid.Died:Connect(function()
        for _, conn in ipairs(connections) do
            conn:Disconnect()
        end
    end))
end

if player.Character then
    setupCharacter(player.Character)
end

player.CharacterAdded:Connect(setupCharacter)
   end,
})

local Button = TabPlr:CreateButton({
   Name = "Anti-grab",
   Callback = function()
   -- The function that takes place when the button is pressed
    local PS = game:GetService("Players")
local Player = PS.LocalPlayer
local Character = Player.Character or Player.CharacterAdded:Wait()
local RS = game:GetService("ReplicatedStorage")
local CE = RS:WaitForChild("CharacterEvents")
local R = game:GetService("RunService")
local BeingHeld = Player:WaitForChild("IsHeld")
local PlayerScripts = Player:WaitForChild("PlayerScripts")


local StruggleEvent = CE:WaitForChild("Struggle")
 

workspace.DescendantAdded:Connect(function(v)
if v:IsA("Explosion") then
v.BlastPressure = 0
end
end)
 

 
BeingHeld.Changed:Connect(function(C)
    if C == true then
        local char = Player.Character
 
        if BeingHeld.Value == true then
            local Event;
            Event = R.RenderStepped:Connect(function()
                if BeingHeld.Value == true then
                    char["HumanoidRootPart"].AssemblyLinearVelocity = Vector3.new()
                    StruggleEvent:FireServer(Player)
                elseif BeingHeld.Value == false then
                    Event:Disconnect()
                end
            end)
        end
    end
end)
 
local function reconnect()
    local Character = Player.Character or Player.CharacterAdded:Wait()
    local Humanoid = Character:FindFirstChildWhichIsA("Humanoid") or Character:WaitForChild("Humanoid")
    local HumanoidRootPart = Character:WaitForChild("HumanoidRootPart")
 
    HumanoidRootPart:WaitForChild("FirePlayerPart"):Remove()
 
    Humanoid.Changed:Connect(function(C)
        if C == "Sit" and Humanoid.Sit == true then
            if Humanoid.SeatPart ~= nil and tostring(Humanoid.SeatPart.Parent) == "CreatureBlobman" then
            elseif Humanoid.SeatPart == nil then
            Humanoid:SetStateEnabled(Enum.HumanoidStateType.Jumping, true)
            Humanoid.Sit = false
            end
        end
    end)
end
 
reconnect()
 
Player.CharacterAdded:Connect(reconnect)
   end,
})

local Button = TabVis:CreateButton({
   Name = "Shaders (by pshade)",
   Callback = function()
   -- The function that takes place when the button is pressed
   loadstring(game:HttpGet("https://raw.githubusercontent.com/randomstring0/pshade-ultimate/refs/heads/main/src/back.json"))()
   end,
})

local Section = TabVis:CreateSection("Crosshair Settings")

local ColorPicker = TabVis:CreateColorPicker({
    Name = "Crosshair Color",
    Color = Color3.fromRGB(255,255,255),
    Flag = "ColorPicker1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(x)
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame:GetChildren()[3].BackgroundColor3 = x
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame:GetChildren()[2].BackgroundColor3 = x
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame.Frame.BackgroundColor3 = x
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame:GetChildren()[4].BackgroundColor3 = x
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.Dot:GetChildren()[2].BackgroundColor3 = x
    end
})

local ColorPicker = Tab:CreateColorPicker({
    Name = "Crosshair Border",
    Color = Color3.fromRGB(255,255,255),
    Flag = "ColorPicker1", -- A flag is the identifier for the configuration file, make sure every element has a different flag if you're using configuration saving to ensure no overlaps
    Callback = function(z)
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame:GetChildren()[8].BackgroundColor3 = z
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame:GetChildren()[6].BackgroundColor3 = z
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame:GetChildren()[5].BackgroundColor3 = z
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame:GetChildren()[7].BackgroundColor3 = z
	game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.Dot.Frame.BackgroundColor3 = z
    end
})

local Input = Tab:CreateInput({
   Name = "Spinning Crosshair Speed",
   CurrentValue = "",
   PlaceholderText = "Set Speed (0.1-0.9)",
   RemoveTextAfterFocusLost = false,
   Flag = "Input1",
   Callback = function(Text)
    while game:GetService("RunService").RenderStepped:wait() do
    game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame.Rotation = game:GetService("Players").LocalPlayer.PlayerGui.Crosshairs.CrosshairsFrame.Rotation + Text
    end
   end,
})

local Section = TabVis:CreateSection("Advacanced Crosshair Settings (Soon)")
